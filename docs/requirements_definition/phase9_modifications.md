# Phase 9: UI/UX改善と機能追加の要件定義

本ドキュメントは、Phase 9においてユーザーから提示された追加要件および修正依頼をまとめたものである。

## 1. アップロード機能の改修

### 1.1 アップロード画面の独立化

* **変更前**: ホーム画面（タイムライン上部）にアップロードフォームが存在。
* **変更後**: アップロード機能を別ページ (`/media/add`) に切り出し。
* **理由**: 大量ファイル選択時にホーム画面が縦長になり、UXを損なうため。

### 1.2 ホーム画面への導線追加

* **要件**: ホーム画面右下に「＋」ボタン（フローティングアクションボタン）を配置し、アップロード画面へ遷移させる。

### 1.3 アップロードUIの改善

* **キャンセルボタン**: アップロードフォームにキャンセルボタンを追加。
  * 動作: クリックするとホーム画面に戻る。
* **プレビュー表示**:
  * 選択したファイルを削除（キャンセル）できるようにする（個別削除「×」ボタン）。
  * ファイル選択を累積的に行えるようにする（追加選択可能）。
  * レイアウト: 画面幅を広げ、プレビュー画像を中央寄せ (Flex/Center) にし、少数選択時でも左寄りにならないようにする。
  * 大量選択時のスクロール対応。
* **入力欄**: 各ファイルのコメント（説明）入力欄をテキストエリアに変更し、サイズを大きくする。

### 1.4 フィードバック（成功・失敗メッセージ）

* **要件**: アップロード成功時、直後に「アップロード完了」のポップアップ（モーダル）を表示する。
  * 選択肢: 「ホームへ戻る」または「続けて追加」。

## 2. ナビゲーションと検索の刷新

### 2.1 検索バーの廃止とソート・絞り込みの導入

* **変更前**: フリーワード検索バーが存在。
* **変更後**: 検索バーを廃止し、以下のドロップダウンメニューに変更。
    1. **並び替え (Sort)**
        * 追加日: 新しい順 / 古い順
        * 撮影日: 新しい順 / 古い順
    2. **絞り込み (Filter)**
        * すべて
        * 写真のみ
        * 動画のみ
        * 自分の投稿（My Uploads）

## 3. メディア表示の調整

### 3.1 バッジ表示位置の変更

* **動画バッジ**: 右上 `top: 10px` から 右下 `bottom: 10px` へ移動。
* **撮影日**: 写真と同様に、動画の左上にも撮影日を表示（メタデータが存在する場合）。

## 4. 削除機能の実装

### 4.1 編集モーダルへの機能追加

* **削除ボタン**: 詳細編集モーダルの左下に「削除」ボタン（赤色）を追加。

### 4.2 削除フロー

* **確認**: 削除ボタン押下時、ブラウザ標準の `confirm()` ではなく、カスタムデザインの確認モーダルを表示する。
* **実行**: 「削除する」ボタン押下で削除APIを実行。
* **完了**: 削除成功後、ブラウザ標準の `alert()` ではなく、カスタムデザインの完了モーダルを表示し、OK押下でリロードする。

## 5. UI/UXの統一（脱ブラウザ標準アラート）

### 5.1 全ポップアップのカスタム化

* **要件**: システム内のすべての通知（成功、エラー、確認）について、ブラウザ標準の `alert()` や `confirm()` ダイアログを廃止する。
* **実装**: デザインシステムに即した「メッセージモーダル」「エラーモーダル」「確認モーダル」を実装し、これらに置き換える。
