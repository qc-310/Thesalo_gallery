# 要件定義書 (Requirements Definition)

## 1. プロジェクト概要

**プロジェクト名**: Thesalo Gallery
**目的**: ペット（犬、猫、ハムスターなど）の写真・動画を家族やパートナーと思い出として共有・管理できる、高機能なWebアプリケーション。
**コンセプト**: 単なるストレージではなく、「思い出を楽しく振り返る」体験と、「大切なデータを安全に守る」安心感を提供する。

## 2. 機能要件 (Functional Requirements)

### 2.1 アカウント・プロフィール管理

ペットごとに個別のデータを管理し、家族で共有するための基盤機能。

- **ユーザー認証**:
  - ソーシャルログイン（Google）およびメールアドレスによる登録・ログイン。
- **マルチペット管理**:
  - 複数のペットを個別に登録・管理可能。
  - アカウント（ペット）ごとの表示切り替え機能。
- **詳細プロフィール**:
  - 基本情報: 名前、種類（犬/猫等）、品種、性別、誕生日、うちの子記念日（お迎え日）。
- **家族招待・共有**:
  - 1つのペットアカウントを複数のユーザー（家族、パートナー）で共有。
  - 招待機能と権限管理（共同編集、閲覧のみ等）。

### 2.2 メディア管理 (Media Management)

写真・動画を収集・整理するためのコア機能。

- **一括アップロード**:
  - ドラッグ&ドロップやファイル選択による複数ファイルの同時アップロード。
  - 大容量ファイルのプログレスバー表示。
- **自動整理**:
  - **日付整理**: EXIFデータ（撮影日）に基づきタイムラインへ自動配置。
  - **クラウド同期**: 端末紛失時に備えたバックアップ機能（サーバーへの確実な保存）。
- **フィルタ・検索**:
  - メディア種別フィルタ（動画のみ / 写真のみ）。
  - 「お気に入り」フラグによる絞り込み。
  - **全文検索**: キャプション、タグ、日付による検索。
- **メタデータ付与**:
  - キャプション（コメント）の追加。
  - タグ付け機能（「散歩」「ごはん」「お昼寝」など）。

### 2.3 閲覧・思い出体験 (Viewing Experience)

保存したメディアを楽しむための機能。

- **タイムライン & ビュー**:
  - **カレンダービュー**: 日付ごとにサムネイルを表示し、過去の同じ日などを視覚的に確認。
  - **レスポンシブ表示**: PCではグリッド表示、スマホではリスト表示への自動最適化。
  - **無限スクロール / ページネーション**: 大量のメディアをストレスなく閲覧可能にする。
- **成長記録**:
  - 撮影日時点でのペットの「月齢」「年齢」を自動計算して表示（例: 生後3ヶ月10日）。
- **スライドショー**:
  - 選択したアルバムや期間の写真をBGM付きで自動再生。
- **思い出通知**:
  - 「○年前の今日」通知機能で過去の写真をリマインド。

### 2.4 高度な機能 (Advanced AI & Editing)

ユーザー体験を向上させるテック機能。

- **AI解析**:
  - **自動顔認識**: ペットの顔を識別し、個体ごとに自動タグ付け・フォルダ分け。
  - **ベストショット選出**: ブレていない、写りの良い写真をAIが提案。
- **編集機能**:
  - **簡単編集**: トリミング、明るさ調整、ペット用スタンプの適用。
  - **ショート動画生成**: 期間（1ヶ月など）ごとのダイジェスト動画を自動生成。

### 2.5 セキュリティ・設定 (Security & Settings)

- **プライバシー設定**:
  - 公開範囲の設定（家族内限定、リンクを知っている人のみ、特定ユーザーのみ）。
- **データ管理**:
  - **一括ダウンロード**: アルバム単位や全データをPCへエクスポート。
  - **ストレージ管理**: 使用量の可視化、高画質維持/節約モード（圧縮率変更）の切り替え。

## 3. 非機能要件 (Non-Functional Requirements)

### 3.1 Web UI/UX・フロントエンド

- **PWA (Progressive Web App)**:
  - スマホのホーム画面に追加可能。
  - ネイティブアプリに近い操作感と起動速度。
- **パフォーマンス最適化**:
  - **遅延読み込み (Lazy Load)**: 画面表示領域の画像のみを読み込む。
  - **画像自動リサイズ**: デバイスサイズに合わせた最適化した画像の配信。
  - **動画ストリーミング**: 通信環境に応じた画質調整。

### 3.2 バックエンド・インフラ

- **アーキテクチャ**:
  - スケーラビリティと保守性を考慮したWebアプリケーションフレームワークの採用。
  - 認証・認可の堅牢な実装。
- **データ永続化**:
  - 整合性を保つリレーショナルデータベース。
  - 大容量データを扱えるストレージシステム。
- **セキュリティ**:
  - 標準的なWebセキュリティ対策 (CSRF, XSS対策) の徹底。
  - 常時SSL/TLS (HTTPS) 化。
- **AI・画像処理**:
  - 画像処理・動画変換処理のバックグラウンド実行によるレスポンス維持。
