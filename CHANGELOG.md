# 変更履歴 (Changelog)

このプロジェクトのすべての重要な変更はこのファイルに記録されます。

フォーマットは [Keep a Changelog](https://keepachangelog.com/ja/1.0.0/) に基づいており、
このプロジェクトは [Semantic Versioning](https://semver.org/lang/ja/) に準拠しています。

## [1.1.1] - 2025-12-20

### 開発環境 (Dev)
- **DevContainer**: VS Code DevContainerに対応しました。`Reopen in Container` で開発環境を即座に構築できます。
- **Dockerfile**: ビルド依存関係 (`wget`) を修正しました。

## [1.1.0] - 2025-12-19

### 追加 (Added)
- **画像の最適化**: アップロードされた画像を自動的に長辺最大1920pxにリサイズし、JPEG形式 (画質85) に圧縮するようにしました。これによりサーバー容量を節約し、表示速度を向上させます。
- **HEIC変換**: iPhone等で撮影された `.heic` 形式の画像を、ブラウザ互換性の高い `.jpg` に自動変換して保存するようにしました。
- **ドキュメント**: 更新履歴を管理するための `CHANGELOG.md` を追加しました。

## [1.0.0] - 2025-12-19

### 追加 (Added)
- **Google認証**: Google OAuth 2.0 (OpenID Connect) を使用したセキュアなログイン機能を実装しました。
- **権限管理 (RBAC)**:
    - **管理者 (Admin)**: `ADMIN_EMAILS` で指定されたユーザーのみ、写真のアップロード・編集・削除が可能。
    - **ゲスト (Guest)**: その他のログインユーザーは閲覧のみ可能。
- **マルチアップロード**: 複数のファイルをドラッグ＆ドロップで一度にアップロード可能にしました。
- **個別コメント**: アップロード前のプレビュー画面で、写真ごとにコメントを入力できるようにしました。
- **EXIFソート機能**: 写真のEXIFデータ (`DateTimeOriginal`) を抽出し、撮影日時順に並び替える機能を実装しました。
- **自動スキャン**: サーバー起動時に、日時情報が未取得の既存写真を自動スキャンして修復する機能を追加しました。
- **無限スクロール**: 写真枚数が増えても動作が重くならないよう、ギャラリーページに無限スクロールを導入しました。
- **動画対応**: 動画ファイル (`.mp4`, `.mov` 等) のアップロードと、サムネイルの自動生成に対応しました。

### 変更 (Changed)
- **UI/UX**: Masonryレイアウト（タイル状配置）とライトボックス表示を採用し、モダンでレスポンシブなデザインに刷新しました。
- **技術スタック**: Python 3.11 ベースへアップデートし、Flask 2.x 構成にリファクタリングしました。
